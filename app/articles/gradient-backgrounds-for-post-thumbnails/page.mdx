export const metadata = {
  title: "Gradient Backgrounds for Post Thumbnails",
  description: `I think it's finally time to remove these tacky under construction GIFs and make some changes around here! Check out this article to see how I did it!`,
  date: "Mar 29, 2024",
  authors: ["Anthony Coffey"],
};

When I first created this site, I was creating post thumbnails in Photoshop using
a PSD template that I created. This process was not only time-consuming, but I was also never fully satisfied with the results.

My gut was telling me at the time to pursue a more programmatic approach to creating the design I wanted, but I ignored it.
It's been driving me crazy for weeks now, so lets take a look at how we can create the same design but without images - just code!

### The Problem

My blog templates used to display post thumbnail as a background image. However, this was a problem because I had to manually
create each image. When trying to create content on the fly, it's not very intuitive and can ultimately slow down my workflow.

First, let's take a look at the old code for the `AllArticles` component that displays a grid of post thumbnails. Please note that Tailwind CSS classes have been removed for clarity.

```jsx
import React from "react";
import { getAllArticles } from "utils/getArticles";
import Link from "next/link";
import Image from "next/image";
import ArticleInfo from "./ArticleInfo";

export default async function AllArticles() {
  const articles = await getAllArticles();

  return (
    <div>
      {articles.map((article) => {
        const { metadata } = article;
        const title = String(metadata.title);

        return (
          <Link key={title} href={"/articles/" + article.slug}>
            {metadata.image && (
              <Image
                className="h-66 w-full object-cover"
                src={metadata.image}
                alt={title}
              />
            )}
            <div>
              <ArticleInfo article={article} />
              <h3>{title}</h3>
              <p>{metadata.description}</p>
            </div>
          </Link>
        );
      })}
    </div>
  );
}
```

### The Solution

Next, let's replace the code above with an HTML/CSS based approach that will generate background gradients for each post.

To do this, lets create a function called `generateRandomGradient` that will take a seed value (like the post title or slug) and generate a unique gradient based on that seed.

```typescript
import colorPairs from "@/utils/colorPairs";

const generateRandomGradient = (seed: string) => {
  const hash = Array.from(seed).reduce(
    (acc, char, index) => acc + char.charCodeAt(0) * (index + 1),
    0,
  );

  const index = hash % colorPairs.length;
  const [color1, color2] = colorPairs[index];

  // Use the hash to determine the gradient type
  const isRadial = hash % 2 === 0;
  const gradientType = isRadial ? "radial-gradient" : "linear-gradient";
  const angle = hash % 360;

  // Construct the gradient string based on the type
  return isRadial
    ? `${gradientType}(circle, ${color1}, ${color2})`
    : `${gradientType}(${angle}deg, ${color1}, ${color2})`;
};

export default generateRandomGradient;
```

The `generateRandomGradient` function takes a seed value, calculates a hash based on the seed, and uses that hash to select a pair of colors from the `colorPairs` array. It then constructs a gradient string based on the hash value, with the option to create either a linear or radial gradient.

You may have noticed that the above code includes a dependency, the `colorPairs` array. It contains pairs of colors to be used in the gradients. This array is defined in a separate file and imported into the `generateRandomGradient` function.

```typescript
const colorPairs: string[][] = [
  ["#FF6347", "#FF4500"], // Tomato to Orange Red
  ["#FFD700", "#FFA500"], // Gold to Orange
  ["#32CD32", "#00FF00"], // Lime Green to Lime
  ["#00BFFF", "#1E90FF"], // Deep Sky Blue to Dodger Blue
  ["#BA55D3", "#9400D3"], // Medium Orchid to Dark Violet
  ["#87CEFA", "#B0C4DE"], // Light Sky Blue to Light Steel Blue
  ["#4682B4", "#708090"], // Steel Blue to Slate Gray
  ["#00CED1", "#20B2AA"], // Dark Turquoise to Light Sea Green
  ["#5F9EA0", "#66CDAA"], // Cadet Blue to Medium Aquamarine
  ["#AFEEEE", "#E0FFFF"], // Pale Turquoise to Light Cyan
  ["#FF69B4", "#FF1493"], // Hot Pink to Deep Pink
];

export default colorPairs;
```

### Closing Thoughts

Now, I can create the look and feel I wanted for each post without needing to manually create an image. This will save me time and allow me to focus on creating content rather than designing thumbnails. Now, my next mission is to tackle Open Graph tags to ensure that when I share my posts on social media they look just as good as they do on my site!

Since I've utilized this function in two places, let's go ahead refactor it into a utility function that can be reused across the application. This will help keep our code DRY (Don't Repeat Yourself) and make it easier to maintain in the future.

Thanks for reading! I hope this article has been helpful in showing you how to create unique post thumbnails using CSS gradients. Happy coding!
